<%= form_for(@contact, multipart:true, html: {class: "form-horizontal"}) do |f| %>
  <div class="panel-body">
    <% if @contact.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@contact.errors.count, "error") %> prohibited this contact from being saved:</h2>

        <ul>
        <% @contact.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :first_name %></label>
      <div class="col-md-9">
        <%= f.text_field :first_name, :class => "form-control", :placeholder => t("contacts.first_name") %>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :last_name %></label>
      <div class="col-md-9">
        <%= f.text_field :last_name, :class => "form-control", :placeholder => t("contacts.last_name") %>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :company %></label>
      <div class="col-md-9">
        <%= f.text_field :company, :class => "form-control", :placeholder => t("contacts.company") %>
      </div>
    </div>


    <div class="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :address_street %></label>
      <div class="col-md-9">
        <%= f.text_field :address_street, :class => "form-control", :placeholder => t("contacts.address_street") %>
      </div>
    </div>

    <div clas="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :address_city %></label>
      <div class="col-md-9">
        <%= f.text_field :address_city, :class => "form-control", :placeholder => t("contacts.address_city") %>
      </div>
    </div>

    <div clas="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :tag_list %></label>
      <div class="col-md-9">
        <%= f.hidden_field :tag_list, :class => "form-control", :placeholder => t("contacts.address_city") %>
      </div>
    </div>

    <div clas="form-group">
      <label class="col-md-3 control-label" for="text-input"><%= f.label :avatar %></label>
      <div class="col-md-9">
        <div class="fileinput <%= @contact.avatar.present? ? 'fileinput-exists' : 'fileinput-new' %>" data-provides="fileinput">
          <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
          </div>
          <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;">
            <% if @contact.avatar.present? %>
              <img src="<%= @contact.avatar.url %>"/>
            <% end %>
          </div>
          <div>
            <span class="btn btn-default btn-file"><span class="fileinput-new">Select image</span><span class="fileinput-exists">Change</span><%= f.file_field "avatar" %></span>
            <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
          </div>
        </div>
      </div>
    </div>


  </div>
  <div class="panel-footer">
    <%= button_tag(type: 'submit', class: "btn btn-sm btn-primary") do %>
      <i class="fa fa-dot-circle-o"></i> <%= t("contacts.submit") %>
    <% end %>

    <%= link_to(contacts_url, class: "btn btn-sm btn-default") do %>
      <i class="fa fa-ban"></i> <%= t("contacts.cancel") %>
    <% end %>

  </div>
<% end %>

<% content_for :javascript do %>
  <script>
    $(function(){
      $('#contact_tag_list').select2({
        // specify tags
        tags: ["<%= t('tags.work') %>", "<%= t('tags.friends') %>", "<%= t('tags.familly') %>"],
        tokenSeparators: [","]
      });
    });
  </script>
<% end %>
